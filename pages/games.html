<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>DebateCraft - Games</title>
    <link rel="stylesheet" href="../styles/main.css" />
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
      .games-page .mode-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:16px}
      .games-page .mode-card{border:1px solid rgba(255,255,255,.12);border-radius:18px;padding:20px;background:rgba(255,255,255,.04);cursor:pointer}
      .games-page .mode-card:hover{transform:translateY(-2px)}
      .games-page .stage{display:none}
      .games-page .stage.active{display:block}
      .games-page .question-card{border:1px solid rgba(255,255,255,.12);border-radius:16px;padding:18px;background:rgba(255,255,255,.04)}
      .games-page .option-btn{width:100%;text-align:left;border:1px solid rgba(255,255,255,.14);background:rgba(255,255,255,.03);padding:12px 14px;border-radius:12px;cursor:pointer;margin-bottom:10px;color:var(--text)}
      .games-page .option-btn:hover{background:rgba(255,255,255,.08)}
      .games-page .option-btn.correct{border-color:#22c55e;background:rgba(34,197,94,.15)}
      .games-page .option-btn.wrong{border-color:#ef4444;background:rgba(239,68,68,.14)}
      .games-page .meta{display:flex;gap:10px;flex-wrap:wrap;margin-bottom:14px}
      .games-page .chip{padding:7px 12px;border-radius:999px;border:1px solid rgba(255,255,255,.14);background:rgba(255,255,255,.05)}
      .games-page .mitigation-box{border:1px solid rgba(255,255,255,.12);border-radius:16px;padding:16px;background:rgba(255,255,255,.03)}
      .games-page textarea{width:100%;min-height:130px;border-radius:12px;border:1px solid rgba(255,255,255,.15);background:rgba(2,6,23,.7);color:var(--text);padding:12px}
    </style>
  </head>
  <body>
    <div id="root" class="games-page">
      <header class="header">
        <div class="container">
          <div class="logo"><a href="../index.html"><h1>DebateCraft</h1></a></div>
          <div class="mobile-menu-button" id="mobileMenuButton"><span></span><span></span><span></span></div>
          <nav class="main-nav" id="mainNav"><ul><li><a href="../index.html">Home</a></li><li><a href="about.html">About</a></li><li><a href="team.html">Our Team</a></li><li><a href="courses.html">Courses</a></li><li><a href="resources.html">Resources</a></li><li><a href="cnresources.html">中文 (繁體)</a></li></ul></nav>
        </div>
      </header>

      <main class="main-content page">
        <section class="hero"><div class="container"><h1>Debate Games</h1><p>Fast, high-repetition training for rebuttal, fallacies, and motion analysis.</p><div class="hero-buttons"><a class="btn btn-primary" href="../index.html">Return Home</a><a class="btn btn-secondary" href="resources.html">Browse Resources</a></div></div></section>

        <section id="mode-select" class="stage active">
          <div class="container mode-grid">
            <article class="mode-card" onclick="startGame('fallacy')"><h3>Fallacy Fighter</h3><p>Identify flawed reasoning and classify it quickly.</p><button class="btn btn-primary">Play Mode</button></article>
            <article class="mode-card" onclick="startGame('motion')"><h3>Motion Master</h3><p>Spot the burden and the likely angle of clash.</p><button class="btn btn-primary">Play Mode</button></article>
            <article class="mode-card" onclick="startGame('rebuttal')"><h3>Rebuttal Rush</h3><p>Pick the strongest response under time pressure.</p><button class="btn btn-primary">Play Mode</button></article>
            <article class="mode-card" onclick="window.location.href='Even if.html'"><h3>Even If Arcade</h3><p>Play the original mitigation game in full arcade mode.</p><button class="btn btn-primary">Launch Arcade</button></article>
          </div>
        </section>

        <section id="quiz-stage" class="stage">
          <div class="container" style="max-width:860px">
            <div class="meta"><span id="game-title" class="chip">Mode</span><span id="tracker" class="chip">Question 1</span><span id="timer" class="chip">30s</span><span id="score" class="chip">Score: 0</span></div>
            <div class="question-card">
              <h3 id="question">Question text</h3>
              <div id="options"></div>
              <div id="explain" class="mitigation-box" style="display:none;margin-top:8px"></div>
              <div style="display:flex;gap:10px;margin-top:10px;flex-wrap:wrap"><button class="btn btn-primary" onclick="nextQuestion()">Next</button><button class="btn btn-secondary" onclick="exitToModes()">Exit</button><a class="btn btn-secondary" href="../index.html">Return Home</a></div>
            </div>
          </div>
        </section>
      </main>

      <footer class="footer"><div class="container"><div class="footer-content"><div class="footer-logo"><h2>DebateCraft</h2><p>Students empowering students through the art of debate for a brighter future.</p></div><div class="footer-links"><h3>Quick Links</h3><ul><li><a href="../index.html">Home</a></li><li><a href="about.html">About Us</a></li><li><a href="team.html">Our Team</a></li><li><a href="courses.html">Courses</a></li><li><a href="resources.html">Resources</a></li></ul></div><div class="footer-contact"><h3>Contact Us</h3><a href="mailto:info@debatecraft.org">info@debatecraft.org</a></div></div><div class="footer-bottom"><p>&copy; 2025 DebateCraft. All rights reserved.</p></div></div></footer>
    </div>

    <script src="../scripts/main.js"></script>
    <script>
      const data = {
        fallacy: [
          { q: "You can’t trust her tax policy ideas, she failed economics in high school.", a: "Ad Hominem", o: ["Ad Hominem", "Slippery Slope", "False Dilemma", "Bandwagon"], e: "This attacks the person rather than policy merits." },
          { q: "If we allow one homework extension, soon deadlines will disappear entirely.", a: "Slippery Slope", o: ["Hasty Generalization", "Slippery Slope", "Appeal to Emotion", "Circular Reasoning"], e: "It assumes a chain of extreme consequences without proof." }
        ],
        motion: [
          { q: "THW ban targeted political advertising on social media.", a: "Principled + practical burdens", o: ["Pure value motion", "Principled + practical burdens", "Only definitional burden", "No clash motion"], e: "Teams must justify rights impacts and real-world outcomes." },
          { q: "THBT celebrities should avoid political endorsements.", a: "Influence and democratic quality", o: ["Tax burden only", "Influence and democratic quality", "Climate burden", "Foreign policy only"], e: "Main clash centers on legitimacy and informed democratic choice." }
        ],
        rebuttal: [
          { q: "Opp says: UBI is too expensive.", a: "Even with fiscal cost, poverty reduction and health outcomes justify spending.", o: ["That’s wrong.", "Even with fiscal cost, poverty reduction and health outcomes justify spending.", "Everyone supports us.", "Taxes are fine."], e: "Best rebuttal weighs impact and compares trade-offs." },
          { q: "Opp says social media causes all youth anxiety.", a: "Mental health is multi-causal, so blanket claims over-attribute causation.", o: ["Phones are bad", "Mental health is multi-causal, so blanket claims over-attribute causation.", "Teenagers disagree", "They are biased"], e: "Strong rebuttal challenges mechanism and over-claiming." }
        ]
      };

      let game=''; let idx=0; let score=0; let timer=30; let tInt=null; let answered=false;
      const stage = (id) => document.getElementById(id);
      function switchStage(id){['mode-select','quiz-stage'].forEach(s=>stage(s).classList.remove('active')); stage(id).classList.add('active');}
      function startGame(mode){ game=mode; idx=0; score=0; switchStage('quiz-stage'); renderQuestion(); }
      function renderQuestion(){
        const q = data[game][idx]; answered=false; timer=30;
        document.getElementById('game-title').textContent = game.toUpperCase();
        document.getElementById('tracker').textContent = `Question ${idx+1} / ${data[game].length}`;
        document.getElementById('score').textContent = `Score: ${score}`;
        document.getElementById('question').textContent = q.q;
        document.getElementById('explain').style.display='none';
        const box = document.getElementById('options'); box.innerHTML='';
        q.o.forEach(opt=>{const b=document.createElement('button');b.className='option-btn';b.textContent=opt;b.onclick=()=>answer(opt,q);box.appendChild(b);});
        clearInterval(tInt);
        tInt=setInterval(()=>{ timer--; document.getElementById('timer').textContent=`${timer}s`; if(timer<=0){clearInterval(tInt); reveal(q,null);} },1000);
        document.getElementById('timer').textContent='30s';
      }
      function answer(opt,q){ if(answered) return; clearInterval(tInt); reveal(q,opt); }
      function reveal(q,opt){
        answered=true;
        [...document.querySelectorAll('.option-btn')].forEach(b=>{ b.disabled=true; if(b.textContent===q.a) b.classList.add('correct'); if(opt && b.textContent===opt && opt!==q.a) b.classList.add('wrong'); });
        if(opt===q.a){ score += (timer+10); document.getElementById('score').textContent=`Score: ${score}`; }
        const ex=document.getElementById('explain'); ex.style.display='block'; ex.textContent=q.e;
      }
      function nextQuestion(){ if(!game) return; idx++; if(idx>=data[game].length){ alert(`Mode complete! Final score: ${score}`); return exitToModes(); } renderQuestion(); }
      function exitToModes(){ clearInterval(tInt); game=''; switchStage('mode-select'); }
      document.addEventListener('DOMContentLoaded',()=>{
        lucide.createIcons();
      });
    </script>
  </body>
</html>
